<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kapitel 3: Samband, uttryck och ekvationer - Esthers Mattesidor</title>
    <style>
        /* === GRUNDL√ÑGGANDE STYLING === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Verdana, Geneva, sans-serif;
            font-size: 18px;
            line-height: 1.7;
            background: linear-gradient(135deg, #fdf6f9 0%, #f0f4f8 100%);
            min-height: 100vh;
            color: #4a4a4a;
        }

        /* === PASTELLF√ÑRGER F√ñR ESTHER === */
        :root {
            --pastel-pink: #f8e1e8;
            --pastel-blue: #e1ecf8;
            --pastel-green: #e1f8e8;
            --pastel-yellow: #f8f4e1;
            --pastel-purple: #efe1f8;
            --text-dark: #4a4a4a;
            --text-medium: #6a6a6a;
            --accent-pink: #d4a5b5;
            --accent-blue: #a5c4d4;
            --success-green: #98d4a5;
            --white: #ffffff;
        }

        /* === LAYOUT === */
        .page-wrapper {
            display: flex;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 40px;
            flex: 1;
        }

        /* === STICKY TIPS SIDEBAR === */
        .tips-sidebar {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 200px;
            z-index: 100;
        }

        .tips-sticky-note {
            background: #fffacd;
            border-radius: 5px;
            padding: 18px 15px;
            box-shadow:
                3px 3px 10px rgba(0,0,0,0.1),
                0 0 0 1px rgba(0,0,0,0.05);
            transform: rotate(-2deg);
            position: relative;
        }

        .tips-sticky-note::before {
            content: "";
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 15px;
            background: rgba(200, 180, 140, 0.6);
            border-radius: 2px;
        }

        .tips-sticky-title {
            font-size: 13px;
            font-weight: 600;
            color: #7a6a4a;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tips-sticky-list {
            list-style: none;
            font-size: 12px;
            color: #6a5a3a;
            line-height: 1.5;
        }

        .tips-sticky-list li {
            padding: 4px 0;
            padding-left: 18px;
            position: relative;
        }

        .tips-sticky-list li::before {
            content: "üí°";
            position: absolute;
            left: 0;
            font-size: 10px;
        }

        @media (max-width: 1200px) {
            .tips-sidebar {
                display: none;
            }
        }

        /* === HEADER MED V√ÑLKOMST === */
        .welcome-header {
            background: var(--white);
            border-radius: 20px;
            padding: 35px 40px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            text-align: center;
        }

        .welcome-header h1 {
            font-size: 28px;
            color: var(--text-dark);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .welcome-name {
            color: var(--accent-pink);
        }

        .welcome-message {
            font-size: 18px;
            color: var(--text-medium);
            max-width: 600px;
            margin: 0 auto;
        }

        /* === PROGRESS SEKTION === */
        .progress-section {
            background: var(--white);
            border-radius: 20px;
            padding: 25px 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .progress-title {
            font-size: 16px;
            color: var(--text-medium);
        }

        .progress-count {
            font-size: 16px;
            color: var(--accent-pink);
            font-weight: 600;
        }

        .progress-bar-container {
            background: var(--pastel-pink);
            border-radius: 15px;
            height: 20px;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--accent-pink), #e8b5c5);
            height: 100%;
            border-radius: 15px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            font-size: 14px;
            color: var(--text-medium);
        }

        /* === M√ÖL-SEKTION === */
        .goal-section {
            background: var(--pastel-yellow);
            border-radius: 15px;
            padding: 20px 25px;
            margin-bottom: 30px;
            border-left: 4px solid #e8d4a5;
        }

        .goal-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .goal-text {
            font-size: 16px;
            color: var(--text-medium);
        }

        /* === UPPGIFTSLISTA === */
        .tasks-section {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .tasks-title {
            font-size: 20px;
            color: var(--text-dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--pastel-pink);
        }

        .task-group {
            margin-bottom: 25px;
        }

        .task-group-title {
            font-size: 16px;
            color: var(--accent-blue);
            margin-bottom: 12px;
            font-weight: 600;
        }

        .task-list {
            list-style: none;
        }

        .task-item {
            margin-bottom: 10px;
        }

        .task-link {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: var(--pastel-blue);
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-dark);
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .task-link:hover {
            background: #d4e4f4;
            transform: translateX(5px);
        }

        .task-link.completed {
            background: var(--pastel-green);
            border-color: var(--success-green);
        }

        .task-link.current {
            background: var(--pastel-pink);
            border-color: var(--accent-pink);
        }

        .task-link.locked {
            background: #f0f0f0;
            color: #aaa;
            cursor: not-allowed;
        }

        .task-link.skipped {
            background: #fff3e0;
            border-color: #ffb74d;
        }

        .task-link.skipped .task-number {
            background: #ffb74d;
            color: white;
        }

        .task-link.skipped .task-number::after {
            content: "‚óã";
        }

        .task-link.skipped .task-number span {
            display: none;
        }

        .task-number {
            width: 35px;
            height: 35px;
            background: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 15px;
            font-size: 14px;
        }

        .task-link.completed .task-number {
            background: var(--success-green);
            color: white;
        }

        .task-link.completed .task-number::after {
            content: "‚úì";
        }

        .task-link.completed .task-number span {
            display: none;
        }

        .task-content {
            flex: 1;
        }

        .task-name {
            font-size: 16px;
            font-weight: 500;
        }

        .task-time {
            font-size: 13px;
            color: var(--text-medium);
            margin-top: 3px;
        }

        .task-status {
            font-size: 13px;
            padding: 4px 10px;
            border-radius: 8px;
            margin-left: 10px;
        }

        .task-link.completed .task-status {
            background: var(--success-green);
            color: white;
        }

        .task-link.current .task-status {
            background: var(--accent-pink);
            color: white;
        }


        /* === PAUS-KNAPP === */
        .pause-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--pastel-green);
            border: none;
            padding: 15px 25px;
            border-radius: 30px;
            font-family: Verdana, Geneva, sans-serif;
            font-size: 15px;
            color: var(--text-dark);
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }

        .pause-button:hover {
            transform: scale(1.05);
            background: #88c498;
        }

        /* === PAUS-MODAL === */
        .pause-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .pause-modal.active {
            display: flex;
        }

        .pause-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
        }

        .pause-content h2 {
            color: var(--text-dark);
            margin-bottom: 15px;
        }

        .pause-content p {
            color: var(--text-medium);
            margin-bottom: 25px;
        }

        .pause-close {
            background: var(--accent-pink);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-family: Verdana;
            font-size: 16px;
            cursor: pointer;
        }

        /* === FOOTER === */
        .footer {
            text-align: center;
            padding: 30px;
            color: var(--text-medium);
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- STICKY TIPS SIDEBAR -->
    <aside class="tips-sidebar">
        <div class="tips-sticky-note">
            <div class="tips-sticky-title">üìù Tips till Esther</div>
            <ul class="tips-sticky-list">
                <li>Ha papper och penna bredvid dig</li>
                <li>L√§s instruktionerna klart f√∂rst</li>
                <li>Ta paus var 20:e minut</li>
                <li>Det √§r okej att g√∂ra fel!</li>
            </ul>
        </div>
    </aside>

    <!-- Kommentar f√∂r f√∂r√§lder/pedagog:
         Detta √§r startsidan f√∂r Esthers mattemodul om samband, uttryck och ekvationer (Kapitel 3).
         Progress sparas automatiskt i webbl√§saren (localStorage).
         Uppskattad tid: ca 4-5 sessioner √† 20 minuter.
    -->

    <div class="container">
        <!-- V√ÑLKOMST -->
        <header class="welcome-header">
            <h1>Hej <span class="welcome-name">Esther</span>! üëã</h1>
            <p class="welcome-message">
                H√§r ska vi utforska samband, uttryck och ekvationer tillsammans.
                Ta det lugnt, ett steg i taget. Du klarar det h√§r!
            </p>
        </header>

        <!-- PROGRESS -->
        <section class="progress-section">
            <div class="progress-header">
                <span class="progress-title">Din framg√•ng</span>
                <span class="progress-count" id="progress-text">0 av 40 klara</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="progress-info">
                <span>Du har precis b√∂rjat!</span>
                <span id="time-estimate">Ca 4 sessioner kvar</span>
            </div>
            <div style="margin-top: 15px; text-align: center;">
                <a href="kap3-summary.html" style="color: var(--accent-pink); font-size: 14px; text-decoration: none;">üìä Visa detaljerad statistik ‚Üí</a>
            </div>
        </section>

        <!-- M√ÖL -->
        <section class="goal-section">
            <div class="goal-title">üéØ Varf√∂r l√§r vi oss detta?</div>
            <p class="goal-text">
                Samband och m√∂nster finns √∂verallt! N√§r du ber√§knar rabatter p√• smink,
                j√§mf√∂r priser, eller r√§knar ut hur snabbt du √•ker i slalombacken.
                Med ekvationer kan du l√∂sa knepiga problem steg f√∂r steg!
            </p>
        </section>

        <!-- UPPGIFTER -->
        <section class="tasks-section">
            <h2 class="tasks-title">üìö Alla uppgifter</h2>

            <!-- GRUPP 1: Proportionalitet -->
            <div class="task-group">
                <h3 class="task-group-title">Del 1: Proportionalitet</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-01-koordinatsystem.html" class="task-link current" id="task-1">
                            <div class="task-number"><span>1</span></div>
                            <div class="task-content">
                                <div class="task-name">Vad √§r ett koordinatsystem?</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                            <span class="task-status">B√∂rja h√§r ‚Üí</span>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-02-lasa-koordinater.html" class="task-link" id="task-2">
                            <div class="task-number"><span>2</span></div>
                            <div class="task-content">
                                <div class="task-name">L√§sa av koordinater</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-03-vad-ar-proportionalitet.html" class="task-link" id="task-3">
                            <div class="task-number"><span>3</span></div>
                            <div class="task-content">
                                <div class="task-name">Vad √§r proportionalitet?</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-04-proportionella-samband.html" class="task-link" id="task-4">
                            <div class="task-number"><span>4</span></div>
                            <div class="task-content">
                                <div class="task-name">Proportionella samband</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-05-rita-graf.html" class="task-link" id="task-5">
                            <div class="task-number"><span>5</span></div>
                            <div class="task-content">
                                <div class="task-name">K√§nna igen proportionalitet</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 2: Kombinatorik -->
            <div class="task-group">
                <h3 class="task-group-title">Del 2: Kombinatorik</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-06-kombinera-klader.html" class="task-link" id="task-6">
                            <div class="task-number"><span>6</span></div>
                            <div class="task-content">
                                <div class="task-name">Kombinera kl√§der</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-07-traddiagram.html" class="task-link" id="task-7">
                            <div class="task-number"><span>7</span></div>
                            <div class="task-content">
                                <div class="task-name">Tr√§ddiagram</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-08-rakna-kombinationer.html" class="task-link" id="task-8">
                            <div class="task-number"><span>8</span></div>
                            <div class="task-content">
                                <div class="task-name">R√§kna kombinationer</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-09-bilda-tal.html" class="task-link" id="task-9">
                            <div class="task-number"><span>9</span></div>
                            <div class="task-content">
                                <div class="task-name">Bilda tal</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-10-kombinatorik-problem.html" class="task-link" id="task-10">
                            <div class="task-number"><span>10</span></div>
                            <div class="task-content">
                                <div class="task-name">Kombinatorik-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 3: Numeriska uttryck -->
            <div class="task-group">
                <h3 class="task-group-title">Del 3: Numeriska uttryck</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-11-prioriteringsregler.html" class="task-link" id="task-11">
                            <div class="task-number"><span>11</span></div>
                            <div class="task-content">
                                <div class="task-name">Prioriteringsregler</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-12-multiplikation-forst.html" class="task-link" id="task-12">
                            <div class="task-number"><span>12</span></div>
                            <div class="task-content">
                                <div class="task-name">Multiplikation f√∂rst</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-13-parenteser.html" class="task-link" id="task-13">
                            <div class="task-number"><span>13</span></div>
                            <div class="task-content">
                                <div class="task-name">Parenteser f√∂rst</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-14-teckna-uttryck.html" class="task-link" id="task-14">
                            <div class="task-number"><span>14</span></div>
                            <div class="task-content">
                                <div class="task-name">Teckna uttryck</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-15-rakna-uttryck.html" class="task-link" id="task-15">
                            <div class="task-number"><span>15</span></div>
                            <div class="task-content">
                                <div class="task-name">R√§kna ut uttryck</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 4: Algebraiska uttryck -->
            <div class="task-group">
                <h3 class="task-group-title">Del 4: Algebraiska uttryck</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-16-vad-ar-variabel.html" class="task-link" id="task-16">
                            <div class="task-number"><span>16</span></div>
                            <div class="task-content">
                                <div class="task-name">Vad √§r en variabel?</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-17-teckna-med-x.html" class="task-link" id="task-17">
                            <div class="task-number"><span>17</span></div>
                            <div class="task-content">
                                <div class="task-name">Teckna med x</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-18-berakna-varde.html" class="task-link" id="task-18">
                            <div class="task-number"><span>18</span></div>
                            <div class="task-content">
                                <div class="task-name">Ber√§kna v√§rde</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-19-forenkla-uttryck.html" class="task-link" id="task-19">
                            <div class="task-number"><span>19</span></div>
                            <div class="task-content">
                                <div class="task-name">F√∂renkla uttryck</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-20-flera-variabler.html" class="task-link" id="task-20">
                            <div class="task-number"><span>20</span></div>
                            <div class="task-content">
                                <div class="task-name">Flera variabler</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 5: M√∂nster -->
            <div class="task-group">
                <h3 class="task-group-title">Del 5: M√∂nster</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-21-geometriska-monster.html" class="task-link" id="task-21">
                            <div class="task-number"><span>21</span></div>
                            <div class="task-content">
                                <div class="task-name">Geometriska m√∂nster</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-22-talfoljder.html" class="task-link" id="task-22">
                            <div class="task-number"><span>22</span></div>
                            <div class="task-content">
                                <div class="task-name">Talf√∂ljder</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-23-hitta-monster.html" class="task-link" id="task-23">
                            <div class="task-number"><span>23</span></div>
                            <div class="task-content">
                                <div class="task-name">Hitta m√∂nstret</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-24-uttryck-monster.html" class="task-link" id="task-24">
                            <div class="task-number"><span>24</span></div>
                            <div class="task-content">
                                <div class="task-name">Uttryck f√∂r m√∂nster</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-25-rakna-monster.html" class="task-link" id="task-25">
                            <div class="task-number"><span>25</span></div>
                            <div class="task-content">
                                <div class="task-name">R√§kna med m√∂nster</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 6: Ekvationer -->
            <div class="task-group">
                <h3 class="task-group-title">Del 6: Ekvationer</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-26-vad-ar-ekvation.html" class="task-link" id="task-26">
                            <div class="task-number"><span>26</span></div>
                            <div class="task-content">
                                <div class="task-name">Vad √§r en ekvation?</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-27-balansmetoden.html" class="task-link" id="task-27">
                            <div class="task-number"><span>27</span></div>
                            <div class="task-content">
                                <div class="task-name">Balansmetoden</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-28-los-enkel-ekvation.html" class="task-link" id="task-28">
                            <div class="task-number"><span>28</span></div>
                            <div class="task-content">
                                <div class="task-name">L√∂s enkel ekvation</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-29-provning.html" class="task-link" id="task-29">
                            <div class="task-number"><span>29</span></div>
                            <div class="task-content">
                                <div class="task-name">Pr√∂vning</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-30-ekvation-problem.html" class="task-link" id="task-30">
                            <div class="task-number"><span>30</span></div>
                            <div class="task-content">
                                <div class="task-name">Ekvation-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 7: Probleml√∂sning -->
            <div class="task-group">
                <h3 class="task-group-title">Del 7: Probleml√∂sning</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-31-proportionalitet-problem.html" class="task-link" id="task-31">
                            <div class="task-number"><span>31</span></div>
                            <div class="task-content">
                                <div class="task-name">Proportionalitet-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-32-kombinatorik-problem2.html" class="task-link" id="task-32">
                            <div class="task-number"><span>32</span></div>
                            <div class="task-content">
                                <div class="task-name">Kombinatorik-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-33-uttryck-problem.html" class="task-link" id="task-33">
                            <div class="task-number"><span>33</span></div>
                            <div class="task-content">
                                <div class="task-name">Uttryck-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-34-monster-problem.html" class="task-link" id="task-34">
                            <div class="task-number"><span>34</span></div>
                            <div class="task-content">
                                <div class="task-name">M√∂nster-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-35-ekvation-problem2.html" class="task-link" id="task-35">
                            <div class="task-number"><span>35</span></div>
                            <div class="task-content">
                                <div class="task-name">Ekvation-problem</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- GRUPP 8: Repetition och avslut -->
            <div class="task-group">
                <h3 class="task-group-title">Del 8: Repetition och avslut</h3>
                <ul class="task-list">
                    <li class="task-item">
                        <a href="uppgift-36-repetition-proportionalitet.html" class="task-link" id="task-36">
                            <div class="task-number"><span>36</span></div>
                            <div class="task-content">
                                <div class="task-name">Repetition: Proportionalitet</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-37-repetition-uttryck.html" class="task-link" id="task-37">
                            <div class="task-number"><span>37</span></div>
                            <div class="task-content">
                                <div class="task-name">Repetition: Uttryck</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-38-repetition-ekvationer.html" class="task-link" id="task-38">
                            <div class="task-number"><span>38</span></div>
                            <div class="task-content">
                                <div class="task-name">Repetition: Ekvationer</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-39-slutuppgift.html" class="task-link" id="task-39">
                            <div class="task-number"><span>39</span></div>
                            <div class="task-content">
                                <div class="task-name">Slutuppgift</div>
                                <div class="task-time">‚è±Ô∏è Ca 30 sekunder</div>
                            </div>
                        </a>
                    </li>
                    <li class="task-item">
                        <a href="uppgift-40-grattis.html" class="task-link" id="task-40">
                            <div class="task-number"><span>40</span></div>
                            <div class="task-content">
                                <div class="task-name">GRATTIS!</div>
                                <div class="task-time">üéâ Avslutning</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </section>

    </div>

    <!-- PAUS-KNAPP -->
    <button class="pause-button" id="pause-btn" onclick="showPause()">
        üßò Jag beh√∂ver en paus
    </button>

    <!-- PAUS-MODAL -->
    <div class="pause-modal" id="pause-modal">
        <div class="pause-content">
            <h2 id="pause-title">Paus! üåü</h2>
            <p id="pause-message">
                Bra att du tar en paus!
            </p>
            <button class="pause-close" onclick="hidePause()">
                Jag √§r redo igen ‚Üí
            </button>
        </div>
    </div>

    <footer class="footer">
        Skapad med ‚ù§Ô∏è f√∂r Esther
    </footer>

    <script>
        // === PROGRESS-HANTERING (KAP3) ===
        function getCompletedTasks() {
            try {
                const data = localStorage.getItem('esther-kap3-completed-tasks');
                return data ? JSON.parse(data) : [];
            } catch(e) {
                return [];
            }
        }

        function getSkippedTasks() {
            try {
                const data = localStorage.getItem('esther-kap3-skipped-tasks');
                return data ? JSON.parse(data) : [];
            } catch(e) {
                return [];
            }
        }

        function updateProgress() {
            const completedTasks = getCompletedTasks();
            const skippedTasks = getSkippedTasks();
            const total = 40;
            const completedCount = completedTasks.length;
            const percent = (completedCount / total) * 100;

            document.getElementById('progress-bar').style.width = percent + '%';
            document.getElementById('progress-text').textContent = completedCount + ' av ' + total + ' klara';

            // Uppdatera tidsuppskattning
            const remaining = total - completedCount;
            const sessions = Math.ceil(remaining / 10);
            if (completedCount === 0) {
                document.getElementById('time-estimate').textContent = 'Du har precis b√∂rjat!';
            } else if (remaining <= 5) {
                document.getElementById('time-estimate').textContent = 'N√§stan klar!';
            } else {
                document.getElementById('time-estimate').textContent = 'Ca ' + sessions + ' sessioner kvar';
            }

            // Markera KLARADE uppgifter (gr√∂n bock)
            completedTasks.forEach(taskNum => {
                const task = document.getElementById('task-' + taskNum);
                if (task) {
                    task.classList.add('completed');
                    task.classList.remove('current', 'skipped');
                }
            });

            // Markera √ñVERHOPPADE uppgifter (orange cirkel)
            skippedTasks.forEach(taskNum => {
                if (!completedTasks.includes(taskNum)) {
                    const task = document.getElementById('task-' + taskNum);
                    if (task) {
                        task.classList.add('skipped');
                        task.classList.remove('current', 'completed');
                    }
                }
            });

            // Hitta f√∂rsta ej avklarade uppgift och markera som "current"
            for (let i = 1; i <= total; i++) {
                if (!completedTasks.includes(i)) {
                    const task = document.getElementById('task-' + i);
                    if (task && !task.classList.contains('skipped')) {
                        task.classList.add('current');
                        const statusEl = task.querySelector('.task-status');
                        if (statusEl) statusEl.textContent = 'B√∂rja h√§r ‚Üí';
                    }
                    break;
                }
            }

            // Uppdatera progress-info med antal √∂verhoppade
            const skippedCount = skippedTasks.filter(t => !completedTasks.includes(t)).length;
            if (skippedCount > 0) {
                const infoEl = document.querySelector('.progress-info span:first-child');
                if (infoEl) {
                    infoEl.textContent = skippedCount + ' uppgift(er) √∂verhoppade';
                    infoEl.style.color = '#ff9800';
                }
            }
        }

        // K√∂r vid sidladdning
        updateProgress();

        // === PAUS-FUNKTIONER ===
        const pauseButtons = [
            { btn: "üßò Ta en paus", title: "Paus! üåü", msg: "Bra att du tar en paus! Sitt kvar och slappna av." },
            { btn: "üí™ Str√§ck p√• armarna", title: "Str√§ck ut! üí™", msg: "Str√§ck armarna h√∂gt √∂ver huvudet och h√•ll i 5 sekunder!" },
            { btn: "üôÜ Rulla axlarna", title: "Rulla axlarna! üôÜ", msg: "Rulla axlarna bak√•t 5 g√•nger, sedan fram√•t 5 g√•nger." },
            { btn: "üëÄ Vila √∂gonen", title: "Vila √∂gonen! üëÄ", msg: "Titta bort fr√•n sk√§rmen och fokusera p√• n√•got l√•ngt bort i 20 sekunder." },
            { btn: "üå¨Ô∏è Andas djupt", title: "Andas! üå¨Ô∏è", msg: "Ta 3 djupa andetag - in genom n√§san, ut genom munnen." },
            { btn: "ü§∏ Vrid p√• kroppen", title: "Vrid! ü§∏", msg: "Sitt kvar och vrid f√∂rsiktigt √∂verkroppen √•t h√∂ger, sedan √•t v√§nster." },
            { btn: "‚úã Skaka h√§nderna", title: "Skaka loss! ‚úã", msg: "Skaka h√§nderna snabbt i 10 sekunder f√∂r att f√• ig√•ng blodet!" },
            { btn: "üòä Le stort", title: "Le! üòä", msg: "Le s√• stort du kan och h√•ll i 5 sekunder. Det g√∂r dig gladare!" },
            { btn: "ü¶í Str√§ck p√• nacken", title: "Str√§ck nacken! ü¶í", msg: "Luta huvudet f√∂rsiktigt √•t h√∂ger, h√•ll i 5 sekunder, sedan √•t v√§nster." },
            { btn: "üëä Knyt h√§nderna", title: "Knyt och sl√§pp! üëä", msg: "Knyt h√§nderna h√•rt, h√•ll i 3 sekunder, sl√§pp. Upprepa 3 g√•nger." }
        ];

        function getRandomPause() {
            return pauseButtons[Math.floor(Math.random() * pauseButtons.length)];
        }

        function showPause() {
            const pause = getRandomPause();
            document.getElementById('pause-title').textContent = pause.title;
            document.getElementById('pause-message').textContent = pause.msg;
            document.getElementById('pause-modal').classList.add('active');
        }

        function hidePause() {
            document.getElementById('pause-modal').classList.remove('active');
        }

        // St√§ng modal med Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') hidePause();
        });
    </script>
</body>
</html>
